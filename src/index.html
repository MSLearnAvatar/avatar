<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/marked@latest/marked.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="speech-key" content="{{ speech_key }}" />
    <meta name="speech-region" content="{{ speech_region }}" />
    <link rel="icon" href="public\favicon.ico" type="image/x-icon" />
    <title>Mr.Azure</title>
    <script src="https://cdn.jsdelivr.net/npm/microsoft-cognitiveservices-speech-sdk@latest/distrib/browser/microsoft.cognitiveservices.speech.sdk.bundle-min.js"></script>
    <link rel="stylesheet" href="/static/css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/github.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/lib/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.1/dist/purify.min.js"></script>
  </head>
  <body>
    <header class="global-header">
      <div class="logo" onclick="location.reload()">Mr.Azure</div>
    </header>
    <div class="container">
      <div id="videoContainer">
        <div class="loader" id="loader"></div>
        <div class="controls">
          <button id="startSessionButton" class="session-button">
            아바타 세션 시작
          </button>
          <button
            id="stopSessionButton"
            class="session-button"
            style="display: none"
          >
            세션 중지
          </button>
          <button id="stopSpeakingButton" disabled>
            <img
              src="/static/images/icon_volumeoff.svg"
              alt="Stop Speaking"
              style="
                width: 20px;
                height: 20px;
                margin-right: 16px;
                justify-content: flex-start;
                vertical-align: middle;
              "
            />
            말하기 중지
          </button>
          <button id="clearChatButton">
            <img
              src="/static/images/icon_delete.svg"
              alt="Clear Chat"
              style="
                width: 20px;
                height: 20px;
                margin-right: 8px;
                justify-content: flex-start;
                vertical-align: middle;
              "
            />
            대화 내역 삭제
          </button>
        </div>
        <div id="remoteVideo"></div>
        <div id="subtitles" class="hidden"></div>
      </div>

      <div class="main-container">
        <div class="chat-container">
          <div id="chatHistory"></div>
          <div class="input-area">
            <textarea
              id="userInput"
              placeholder="질문을 입력하세요."
            ></textarea>
            <button id="sendButton">
              <img src="/static/images/icon_send.svg" alt="Send" />
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="/static/js/script.js"></script>
  </body>
</html>
